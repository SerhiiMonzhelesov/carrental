{"version":3,"file":"static/js/497.41b0edb0.chunk.js","mappings":"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","sources":["components/Catalog/Catalog.jsx","pages/CatalogPage.jsx"],"sourcesContent":["import { useDispatch, useSelector } from 'react-redux';\nimport {\n  selectAllCars,\n  selectFavoritesCarId,\n  selectFilteredCars,\n  selectIsLoading,\n} from 'redux/selectors';\n\nimport { addCarForModal, toggleShowModal } from 'redux/CatalogSlice';\nimport { addToFavorite } from 'redux/FavoriteSlice';\nimport CarCard from 'components/CarCard/CarCard';\nimport { StyledCatalog } from './StyledCatalog';\nimport Loader from 'components/Loader/Loader';\n\nimport { Button } from '@mui/material';\n\nfunction Catalog({ cars, handleLoadMore, page }) {\n  const allCars = useSelector(selectAllCars);\n  const filteredCars = useSelector(selectFilteredCars);\n  const isLoading = useSelector(selectIsLoading);\n  const favoriteCarsId = useSelector(selectFavoritesCarId);\n\n  const dispatch = useDispatch();\n\n  const handleCheckboxChange = carId => {\n    if (favoriteCarsId?.includes(carId)) {\n      dispatch(addToFavorite(favoriteCarsId?.filter(id => id !== carId)));\n    } else {\n      dispatch(addToFavorite([...favoriteCarsId, carId]));\n    }\n  };\n\n  const totalPages = Math.ceil(allCars?.length / 8);\n\n  const handleLearnMore = e => {\n    const carForModal = allCars.find(\n      car => car.id === Number(e.currentTarget.id)\n    );\n    dispatch(addCarForModal(carForModal));\n    dispatch(toggleShowModal());\n  };\n\n  return (\n    <>\n      {isLoading && <Loader />}\n      {!isLoading && (\n        <>\n          <StyledCatalog>\n            {filteredCars\n              ? filteredCars.map(car => {\n                  return (\n                    <CarCard\n                      key={car.id}\n                      car={car}\n                      handleLearnMore={handleLearnMore}\n                      handleCheckboxChange={handleCheckboxChange}\n                      isChecked={favoriteCarsId?.includes(car.id)}\n                    />\n                  );\n                })\n              : cars.map(car => {\n                  return (\n                    <CarCard\n                      key={car.id}\n                      car={car}\n                      handleLearnMore={handleLearnMore}\n                      handleCheckboxChange={handleCheckboxChange}\n                      isChecked={favoriteCarsId?.includes(car.id)}\n                    />\n                  );\n                })}\n          </StyledCatalog>\n          {page !== totalPages && !filteredCars && (\n            <Button\n              variant=\"text\"\n              onClick={handleLoadMore}\n              sx={{\n                textTransform: 'none',\n                fontSize: 16,\n                fontWeight: 500,\n                lineHeight: 1.5,\n                textDecorationLine: 'underline',\n              }}\n            >\n              Load more\n            </Button>\n          )}\n        </>\n      )}\n    </>\n  );\n}\n\nexport default Catalog;\n","import { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\n\nimport { firstPageCatalogThunk } from 'redux/CatalogThunk';\nimport { selectCars, selectIsShowModal } from 'redux/selectors';\nimport Catalog from 'components/Catalog/Catalog';\nimport Container from 'components/Container/Container';\nimport FilterForm from 'components/FilterForm/FilterForm';\nimport { Modal } from 'components/Modal/Modal';\n\nlet PAGE = 1;\n\nexport default function CatalogPage() {\n  const dispatch = useDispatch();\n  const cars = useSelector(selectCars);\n\n  const isShowModal = useSelector(selectIsShowModal);\n\n  useEffect(() => {\n    if (cars.length > 0) return;\n    dispatch(firstPageCatalogThunk(PAGE));\n  }, [dispatch, cars]);\n\n  const handleLoadMore = e => {\n    PAGE += 1;\n    dispatch(firstPageCatalogThunk(PAGE));\n  };\n\n  return (\n    <Container>\n      <FilterForm page=\"Catalog page\" />\n      {cars && (\n        <>\n          <Catalog cars={cars} handleLoadMore={handleLoadMore} page={PAGE} />\n          {isShowModal && <Modal />}\n        </>\n      )}\n    </Container>\n  );\n}\n"],"names":["_ref","cars","handleLoadMore","page","allCars","useSelector","selectAllCars","filteredCars","selectFilteredCars","isLoading","selectIsLoading","favoriteCarsId","selectFavoritesCarId","dispatch","useDispatch","handleCheckboxChange","carId","includes","addToFavorite","filter","id","concat","_toConsumableArray","totalPages","Math","ceil","length","handleLearnMore","e","carForModal","find","car","Number","currentTarget","addCarForModal","toggleShowModal","_jsxs","_Fragment","children","_jsx","Loader","StyledCatalog","map","CarCard","isChecked","Button","variant","onClick","sx","textTransform","fontSize","fontWeight","lineHeight","textDecorationLine","PAGE","CatalogPage","selectCars","isShowModal","selectIsShowModal","useEffect","firstPageCatalogThunk","Container","FilterForm","Catalog","Modal"],"sourceRoot":""}